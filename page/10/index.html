<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="taocoding">
<meta property="og:url" content="http://yoursite.com/page/10/index.html">
<meta property="og:site_name" content="taocoding">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="taocoding">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/10/">





  <title>taocoding</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d13234060d812cb98a47e937139083a9";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">taocoding</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/08/25/返回值为引用的一点测试/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/08/25/返回值为引用的一点测试/" itemprop="url">返回值为引用的一点测试</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-08-25T22:10:00+08:00">
                2009-08-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近做多人视频时设计了一个简单的类，但是简单的类也很能说明问题，也再次说明有些基础知识还是理解得不够深刻，刚写了个测试程序以便日后查阅，主要是关于返回值为引用类型时的一点测试:</p>
<pre style="border: 1px dotted #785;background: #f5f5f5;">#include &lt;iostream&gt;
using namespace std;

class CConstRef
{
public:
CConstRef(int iA):m_iA(iA)
{
}
const int&amp; GetA()const
{
return m_iA;
}
int&amp; GetA()
{
return m_iA;
}
void PrintAddress()const
{
cout&lt;&lt;"Address of m_iA = "&lt;&lt;&amp;m_iA&lt;&lt;endl;
}
private:
int m_iA;
};

int main(int argc, char* argv[])
{
//常量对象
const CConstRef cCA(8);
//非常量对象
CConstRef CA(9);
//////////////////////////////////////////////////////////////////////////
//注意下面的调用都是返回对象cCA的成员m_iA的引用,且此引用都是用来初始化另一引用
//因此地址都相同
//调用int&amp; GetA()
int&amp; ra = CA.GetA();
CA.PrintAddress();
cout&lt;&lt;"Address of ra = "&lt;&lt;&amp;ra&lt;&lt;endl;
ra = 3;
cout&lt;&lt;"Now the CA.m_iA = "&lt;&lt;CA.GetA()&lt;&lt;endl;

//调用int&amp; GetA()
const int&amp; ra1 = CA.GetA();
cout&lt;&lt;"Address of ra1 = "&lt;&lt;&amp;ra1&lt;&lt;endl;
//////////////////////////////////////////////////////////////////////////
//调用int&amp; GetA()
int va = CA.GetA();
CA.PrintAddress();
cout&lt;&lt;"Address of va = "&lt;&lt;&amp;va&lt;&lt;endl;
va = 3;
cout&lt;&lt;"Now the CA.m_iA = "&lt;&lt;CA.GetA()&lt;&lt;endl;

//调用int&amp; GetA()
const int va1 = CA.GetA();
cout&lt;&lt;"Address of va1 = "&lt;&lt;&amp;va1&lt;&lt;endl;
//////////////////////////////////////////////////////////////////////////
//下面的rb就是cCA.m_iA
const int&amp; rb = cCA.GetA();

cCA.PrintAddress();
cout&lt;&lt;"Address of rb = "&lt;&lt;&amp;rb&lt;&lt;endl;

/*
error: invalid initialization of reference of type 'int&amp;' from expression of type 'const int'
上面的错误时G++提示的，这么说来其实编译器给我们返回的是const int而不是const int&amp;
*/
// int&amp; rb1 = cCA.GetA();

//下面的的vb和vb1都是是cCA.m_iA的一个副本
const int vb = cCA.GetA();
cout&lt;&lt;"Address of vb = "&lt;&lt;&amp;vb&lt;&lt;endl;

int vb1 = cCA.GetA();
cout&lt;&lt;"Address of vb1 = "&lt;&lt;&amp;vb1&lt;&lt;endl;
vb1 = 10;

cout&lt;&lt;"Now the cCA.m_iA = "&lt;&lt;cCA.GetA()&lt;&lt;endl;

return 0;
}
</pre> 

<p>下面是在MinGW的G++下输出的结果</p>
<p><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/ToCpp/EntryImages/20090825/Result.PNG" alt="返回引用" title="返回引用"></p>
<p>&nbsp;</p>
<blockquote>
<p>&nbsp;</p>
<p><span style="background-color: #ff0000;"><span style="color: #00ff00;"><span style="background-color: #ffffff;"><strong>路路漫漫其修远兮，吾将上下而求索！</strong></span></span></span><br></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/07/21/c设计模式之一-工厂模式（简单工厂、工厂和抽象/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/07/21/c设计模式之一-工厂模式（简单工厂、工厂和抽象/" itemprop="url">C++设计模式之一 工厂模式（简单工厂、工厂和抽象工厂）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-07-21T23:34:00+08:00">
                2009-07-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/设计模式/" itemprop="url" rel="index">
                    <span itemprop="name">设计模式</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原文地址：<a href="http://www.cnblogs.com/Seasky/archive/2009/02/06/1385609.html" target="_blank" rel="noopener">http://www.cnblogs.com/Seasky/archive/2009/02/06/1385609.html</a></p>
<p><a href="http://files.cnblogs.com/Seasky/FactoryPattern.7z" title="工厂模式实例代码" target="_blank" rel="noopener">实例代码下载</a>&nbsp;<br><a href="http://files.cnblogs.com/Seasky/FactoryPatternChart.zip" title="结构图下载" target="_blank" rel="noopener">结构类图下载</a>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp;&nbsp; 今天开始这个系列之前，心里有些恐慌，毕竟园子里的高手关于设计模式的经典文章很多很多，特别是大侠<a href="http://terrylee.cnblogs.com/" target="_blank" rel="noopener">李会军</a>、<a href="http://zhenyulu.cnblogs.com/" target="_blank" rel="noopener">吕震宇</a> 老师的文章更是堪称经典。他们的文笔如行云流水，例子活泼生动，讲解深入浅出。好在他们都是用C#描述，也没有提供必要的源码下载，所以我这里用C++实现。首先我想声明的是我的文笔绝对不如他们的好，例子也没有他们的形象，不过我打算把C++的代码实现和类图提供给大家，就算作为一种补充吧。</p>
<p>&nbsp; &nbsp; &nbsp;&nbsp; 开始设计模式自然而然到提到几个原则：I、开闭法则（OCP）；II、里氏代换法则（LSP）；III、依赖倒置法则(DIP)；IV、接口隔离法则（ISP）；V、合成/聚合复用原则（CARP）；VI、迪米特法则（LoD），这几个法则在<a href="http://zhenyulu.cnblogs.com/" target="_blank" rel="noopener">吕震宇</a> 老师的<a href="http://www.cnblogs.com/zhenyulu/articles/36061.html" target="_blank" rel="noopener">设计模式（二）</a>和<a href="http://www.cnblogs.com/zhenyulu/articles/36068.html" target="_blank" rel="noopener">设计模式（三）</a>中有非常详尽的阐述和深入浅出的举例分析。有兴趣的朋友打开链接看一下就可以了。</p>
<p>&nbsp; &nbsp; &nbsp; 补充说明：</p>
<ul>
<li>我这里所以代码都是用VS2005的C++编译器实现。所以不能保证在其他IDE中能顺利编译，但是我想如果你使用其他编译器，也应该不会有太大问题，主要也应该是stdafx.h文件中包含的头文件问题。<em>   里面出行的结构图都是用微软的Visio2003 绘制，大家下载后可以直接用Visio打开。</em>   在以后所有的模式例子中都有客户程序，客户程序这个角色不是模式本身的内容，它是模式之外的部分，但是正是这个客户程序完成了对模式的使用，模式本身的结构是讲解的重点，但是客户程序如何使用模式也是理解模式的一个重要方面，因此在我后续的介绍中都有客户程序这个角色，并会说明究竟调用模式中的哪些角色完成对模式的使用。</li>
</ul>
<h4 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h4><h5 id="生活例子"><a href="#生活例子" class="headerlink" title="生活例子"></a>生活例子</h5><p>&nbsp; &nbsp; &nbsp; 吃饭是人的基本需求，如果人类不需要吃饭，可能我们就能活得清闲许多，也就不需要像现在一样没日没夜的工作，学习。我们学习是为了找到更好的工作，好工作为了赚更多的钱，最终为了吃饱饭，吃好饭。因此可以说吃饭是与人息息相关，下面就从吃饭的例子来引入工厂模式的学习。</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 如果你想吃饭了，怎么办自己做吗？自己做就相当于程序中直接使用new。当然是自己下个指令，别人来做更爽。那就把做饭的任务交给你的老婆吧，那么她就是一个做饭的工厂了，你告诉她要要吃红烧肉，等会她就从厨房给你端出来一盘香喷喷的红烧肉了，再来个清蒸鱼吧，大鱼大肉不能太多，那就再来个爆炒空心菜，最后再来个西红柿鸡蛋汤。下图 1) 就是这个问题的模型。<br><img src="http://images.cnblogs.com/cnblogs_com/Seasky/167561/r_1-2.JPG" alt="">&nbsp;<br>（图1）<br>&nbsp; &nbsp; &nbsp; &nbsp;显然到了这里，你是Client，你老婆就是工厂，她拥有做红烧肉的方法，做清蒸鱼的方法，做爆炒空心菜、西红柿鸡蛋汤的方法，这些方法返回值就是食物抽象。红烧肉、清蒸鱼、爆炒空心菜、西红柿鸡蛋汤就是食物的继承类，到这里你就可以大吃二喝了。简单工厂模式也成型了。哈哈，娶一个手艺不错的老婆还真好，吃的好，吃的爽，又清闲。</p>
<p>&nbsp; &nbsp; &nbsp;&nbsp; 下面来看标准的简单工厂模式的分析。&nbsp;</p>
<h5 id="意图"><a href="#意图" class="headerlink" title="意图"></a>意图</h5><p>把一系列拥有共同特征的产品的创建封装 </p>
<h5 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h5><p><img src="http://images.cnblogs.com/cnblogs_com/Seasky/167561/r_1-3.JPG" alt="">&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; （图2）</p>
<h5 id="角色分析"><a href="#角色分析" class="headerlink" title="角色分析"></a>角色分析</h5><div style="padding-right: 20px; padding-left: 30px; padding-bottom: 10px; padding-top: 0px;"><strong>产品基类</strong>： 工厂创建的所有产品的基类, 它负责描述所有实例所共有的公共接口。它用来作为工厂方法的返回参数。<br>代码实现：<br><pre class="programlisting">        //—这时一个系列的产品基类<br>class Product<br>{<br>protected:<br>Product(void);<br>public:<br>virtual ~Product(void);<br>public:<br>virtual void Function() = 0;<br>};<br>//cpp<br>Product::Product(void)<br>{<br>}<br>Product::~Product(void)<br>{<br>}<br></pre><br><strong>具体产品类</strong>：产品1和产品2，这个角色实现了抽象产品角色所定义的接口。<br>代码实现：<br><pre class="programlisting">        //产品A<br>class ConcreteProductA:public Product<br>{<br>public:<br>ConcreteProductA(void);<br>public:<br>virtual ~ConcreteProductA(void);<br>public:<br>virtual void Function();<br>};<br>//cpp<br>ConcreteProductA::ConcreteProductA()<br>{<br>cout&lt;&lt;”创建 A 产品”&lt;&lt;endl;<br>}<br>ConcreteProductA::~ConcreteProductA()<br>{<br>cout&lt;&lt;”释放 A 产品”&lt;&lt;endl;<br>}<br>void ConcreteProductA::Function()<br>{<br>cout&lt;&lt;”这是产品 A 具有的基本功能”&lt;&lt;endl;<br>}<br>//产品B与A类似不这里不再给出，大家可以下载源码<br></pre><br><br><strong>工厂类</strong>：负责具体产品的创建，有两种方式实现产品的创建，I、创建不同的产品用不同的方法；II、创建不同产品用相同的方法，然后通过传递参数实现不同产品的创建。本实例中两种模式都给出了，大家自行分析。<br><br><pre class="programlisting">//简单工厂，此类不需要继承，直接硬编码实现生成的产品<br>class SimpleFactory<br>{<br>public:<br>SimpleFactory(){}<br>public:<br>~SimpleFactory(){}<br>public:<br>Product <em>CreateProduct(int ProuctType);<br>Product </em>CreateProductA();<br>Product <em>CreateProductB();<br>};<br>//CPP<br>Product </em> SimpleFactory::CreateProduct(int ProductType=0)<br>{<br>Product <em>p = 0;<br>switch(ProductType)<br>{<br>case 0:<br>p= new ConcreteProductA();<br>break;<br>case 1:<br>p= new ConcreteProductB();<br>break;<br>default:<br>p= new ConcreteProductA();<br>break;<br>}<br>return p;<br>}<br>Product </em>SimpleFactory::CreateProductA()<br>{<br>return new ConcreteProductA();<br>}<br>Product <em>SimpleFactory::CreateProductB()<br>{<br>return new ConcreteProductB();<br>}<br></em></pre><br><strong>客户端程序</strong>：访问的角色包括产品基类、工厂类。不直接访问具体产品类。通过基类指针的多态实现产品功能的调用。<br><strong>访问描述</strong>：客户程序通过调用工厂的方法返回抽象产品，然后执行产品的方法。<br><pre class="programlisting">//调用代码<br>SimpleFactory sf;<br>Product p = sf.CreateProductA();<br>p-&gt;Function();<br>delete p;<br>p = sf.CreateProductB();<br>p-&gt;Function();<br>delete p;<br></pre><br></div>

<h5 id="优缺点说明"><a href="#优缺点说明" class="headerlink" title="优缺点说明"></a>优缺点说明</h5><p><strong>优点</strong>：1) 首先解决了代码中大量New的问题。为何要解决这个问题，好处的说明我想放到结尾总结中。<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;2) 用工厂方法在一个类的内部创建对象通常比直接创建对象更灵活。<br><strong>缺点</strong>：对修改不封闭，新增加产品您要修改工厂。违法了鼎鼎大名的开闭法则（OCP）。</p>
<h5 id="附加说明"><a href="#附加说明" class="headerlink" title="附加说明"></a>附加说明</h5><ul>
<li>大家可以参看 吕震宇 老师的<a href="http://www.cnblogs.com/zhenyulu/articles/36462.html" target="_blank" rel="noopener">C#设计模式（四）</a>参看这个模式的分析，里面还给出了这个模式的两个变体，实现比较简单，有兴趣的朋友可以自行用C++实现一下。*   产品基类的代码中构造函数我用了Protected，而没有使用Public，主要是为了体现编码中的一个最小权限原则。说明此类不许用户直接实例化。虽然这里使用了virtual void Function() = 0;编译器也会控制不让用户直接实例化，不过我依然认为使用私有化构造函数来保护类不直接实例化是一个良好的编程风格。</li>
</ul>
<h4 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h4><h5 id="生活例子-1"><a href="#生活例子-1" class="headerlink" title="生活例子:"></a>生活例子:</h5><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 人是最贪得无厌的动物，老婆手艺再好，总有不会做的菜，你想吃回锅肉，怎么办，让老婆学呗，于是就给她就新增了做回锅肉的方法，以后你再想吃一个新菜，就要给你老婆新加一个方法，显然用老婆做菜的缺点也就暴露出来了，用程序设计的描述就是对修改永远不能封闭。当然优点也是有的，你有了老婆这个工厂，这些菜不用你自己做了，只要直接调用老婆这个工厂的方法就可以了。 </p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;面对上面对修改不能封闭的问题，有没有好的解决方案吗，如果你有钱，问题就迎刃而解了，把老婆抽象变成一个基类，你多娶几个具体的老婆，分别有做鱼的，做青菜的，炖汤的老婆，如果你想吃一个新菜，就再新找个女人，从你的老婆基类继承一下，让她来做这个新菜。显然多多的老婆这是所有男人的梦想，没有办法，法律不允许，那么咱们只是为了做饭，老婆这个抽象类咱们不叫老婆了，叫做厨师吧，她的子类也自然而然的该叫做鱼的厨师、炖汤的厨师了。现在来看这个模式发生了变化，结构中多了一个厨师的抽象，抽象并不具体的加工产品了，至于是炖汤还是炖鱼，是由这个抽象工厂的继承子类来实现，现在的模式也就变成工厂方法模式了，这个上面的结构图1)就变成了下面的图3的结构了。<br><img src="http://images.cnblogs.com/cnblogs_com/Seasky/167561/r_1-4.JPG" alt=""><br>&nbsp; &nbsp; &nbsp;&nbsp; （图3）</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;现在再来分析现在的模式，显然简单工厂的缺陷解决了，新增加一个菜只需要新增加一个厨师就行了，原来的厨师还在做原来的工作，这样你的设计就对修改封闭了。你看把老婆解放出来，招聘大量的厨师到你家里这个方案多么的完美，你老婆也会爱死你了。当然前提就是你要有多多的钱噢，当然这里的钱的多少在软件领域应该看你的客户软件投资方的要求。<br>下面来一下标准的工厂模式的实现 </p>
<h5 id="意图-1"><a href="#意图-1" class="headerlink" title="意图"></a>意图</h5><ul>
<li>定义一个用户创建对象的接口，让子类决定实例化哪一个类。Factory Method使一个类的实例化延迟到其子类。*   上面是GOF关于此模式的意图描述，我想补充的是您可以这样理解：为了改善简单工厂对修改不能关闭的问题。</li>
</ul>
<h5 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h5><p>&nbsp; <img src="http://images.cnblogs.com/cnblogs_com/Seasky/167561/r_1-5.JPG" alt=""><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;图4</p>
<h5 id="角色分析-1"><a href="#角色分析-1" class="headerlink" title="角色分析"></a>角色分析</h5><div style="padding-right: 20px; padding-left: 30px; padding-bottom: 10px; padding-top: 0px;"><strong>产品基类</strong>：同简单工厂的产品基类，其实就是用和简单工厂中的是同一个类，这里并没有重写。<br><strong>具体产品类</strong>：也是用的简单工厂的具体产品类，为了体现对修改的关闭这里为系统新添加了一个具体产品类，就是&ldquo;新产品&rdquo;，代码中叫做&ldquo;ConcreteProductANew&rdquo;<br><strong>工厂基类</strong>：定义了工厂创建产品的接口，但是没有实现，具体创建工作由其继承类实现。<br>代码实例<br><br><pre class="programlisting">//工厂模式，此模式的工厂只定义加工产品的接口，具体生成交予其继承类实现<br>//只有具体的继承类才确定要加工何种产品<br>class Factory<br>{<br>public:<br>Factory(void);<br>public:<br>virtual ~Factory(void);<br>public:<br>virtual Product<em> CreateProduct(int ProductType = 0) =0;<br>};<br>//CPP<br>Factory::Factory(void)<br>{<br>}<br>Factory::~Factory(void)<br>{<br>}<br></em></pre><br><strong>具体工厂类</strong>：工厂基类的具体实现，由此类决定创建具体产品，这里 <strong>ConcreteFactory1</strong> 对于与图中的 <strong>工厂实现</strong>，<strong>ConcreteFactory2</strong> 对于与图中的<strong>新工厂</strong>。<br>下面给出实现代码<br><br><pre class="programlisting">//工厂实现<br>class ConcreteFactory1:public Factory<br>{<br>public:<br>ConcreteFactory1();<br>public:<br>virtual ~ConcreteFactory1();<br>public :<br>Product CreateProduct(int ProductType);<br>};<br>//新工厂，当要创建新类是实现此新工厂<br>class ConcreteFactory2:public Factory<br>{<br>public:<br>ConcreteFactory2();<br>public:<br>virtual ~ConcreteFactory2();<br>public :<br>Product<em> CreateProduct(int ProductType);<br>};<br>//CPP<br>ConcreteFactory1::ConcreteFactory1()<br>{<br>}<br>ConcreteFactory1::~ConcreteFactory1()<br>{<br>}<br>Product </em> ConcreteFactory1::CreateProduct(int ProductType = 0)<br>{<br>Product <em>p = 0;<br>switch(ProductType)<br>{<br>case 0:<br>p= new ConcreteProductA();<br>break;<br>case 1:<br>p= new ConcreteProductB();<br>break;<br>default:<br>p= new ConcreteProductA();<br>break;<br>}<br>return p;<br>}<br>ConcreteFactory2::ConcreteFactory2()<br>{<br>}<br>ConcreteFactory2::~ConcreteFactory2()<br>{<br>}<br>Product </em> ConcreteFactory2::CreateProduct(int ProductType = 0)<br>{<br>return new ConcreteProductANew();<br>}<br></pre><br><strong>客户端调用</strong>：访问角色（产品基类、工厂基类、工厂实现类）<br><strong>调用描述</strong>：客户程序通过工厂基类的方法调用工厂实现类用来创建所需要的具体产品。从而实现产品功能的访问。<br>代码实现<br><br><pre class="programlisting">Factory<em>fct = new ConcreteFactory1();<br>Product </em>p = fct-&gt;CreateProduct(0);<br>p-&gt;Function();<br>delete p;<br>p = fct-&gt;CreateProduct(1);<br>p-&gt;Function();<br>delete p;<br>delete fct;<br>fct = new ConcreteFactory2();<br>p=fct-&gt;CreateProduct();<br>delete p;<br>delete fct;<br></pre><br></div>

<h5 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h5><p><strong>优点 </strong></p>
<ul>
<li>简单工厂具有的优点*   解决了简单工厂的修改不能关闭的问题。系统新增产品，新增一个产品工厂即可，对抽象工厂不受影响。</li>
</ul>
<p><strong>缺点</strong>：对于创建不同系列的产品无能为力 </p>
<h5 id="适用性"><a href="#适用性" class="headerlink" title="适用性"></a>适用性</h5><ul>
<li>当一个类不知道它所必须创建的对象的类的时候。<em>   当一个类希望由它的子类来指定它所创建的对象的时候。</em>   当类将创建对象的职责委托给多个帮助子类中的某一个，并且你希望将哪一个帮助子类是代理者这一信息局部化的时候。</li>
</ul>
<h5 id="其他参考"><a href="#其他参考" class="headerlink" title="其他参考"></a>其他参考</h5><ul>
<li>吕震宇的<a href="http://www.cnblogs.com/zhenyulu/articles/36590.html" target="_blank" rel="noopener">C#设计模式（5）－Factory Method Pattern </a></li>
<li>TerryLee 的<a href="http://terrylee.cnblogs.com/archive/2006/01/04/310716.html" target="_blank" rel="noopener">.NET设计模式（5）：工厂方法模式（Factory Method） </a></li>
</ul>
<p>&nbsp;</p>
<h4 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h4><h5 id="生活例子-2"><a href="#生活例子-2" class="headerlink" title="生活例子"></a>生活例子</h5><p>&nbsp; &nbsp;&nbsp;&nbsp; 世事多变，随着时间的推移，走过的地方越来越多，你天南海北的朋友也越来越多。你发现菜原来还分了许多菜系，鲁菜、粤菜、湘菜等等，它们各有各的风味，同样是红烧肉由不同菜系出来的味道也各不相同， 你招待不同的朋友要用不同的菜系，这下难办了，你的厨师都是鲁菜风味，怎么办，广东的朋友来了吃不惯。现在我们再回到简单工厂模式（就是老婆做菜的模式），我们把红烧肉再向下继承，生成鲁菜红烧肉、粤菜红烧肉、湘菜红烧肉；清蒸鱼向下继承为鲁菜清蒸鱼、粤菜清蒸鱼、湘菜清蒸鱼，其它也以此类推。我们也修改一下老婆的这个类，不让其返回食物基类，而是返回红烧肉、清蒸鱼、爆炒空心菜、西红柿鸡蛋汤这一层次，并把这些方法抽象化，作为菜系工厂基类，然后再从此基类继承出，鲁菜工厂、粤菜工厂、湘菜工厂等等，再由这些具体工厂实现创建具体菜的工作，哈哈你如果招待广东朋友就用粤菜工厂，返回的就是一桌粤菜菜系的红烧肉、清蒸鱼、空心菜和西红柿鸡蛋汤了，你的广东朋友一定会吃的非常合乎胃口了。噢，非常好，你已经实现了抽象工厂模式了。结构模型图也变成了下图 6)的样子了。<br><img src="http://images.cnblogs.com/cnblogs_com/Seasky/167561/r_1-6.JPG" alt=""><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; （图6）<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 现在可以看到，想新来做一个菜系，只需新聘请一个厨师就可以了，多么完美，但是你先别高兴太早，如果你想新增加一个菜就变得非常困难了。</p>
<h5 id="意图-2"><a href="#意图-2" class="headerlink" title="意图"></a>意图</h5><p>&nbsp; &nbsp; &nbsp; &nbsp;提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。<br><strong>结构</strong><br><img src="http://images.cnblogs.com/cnblogs_com/Seasky/167561/r_1-7.JPG" alt=""></p>
<h5 id="角色分析-2"><a href="#角色分析-2" class="headerlink" title="角色分析"></a>角色分析</h5><div style="padding-right: 20px; padding-left: 30px; padding-bottom: 10px; padding-top: 0px;"><strong>产品基类</strong>：这里包含产品基类A和产品基类B，实际上在我的示例代码中，这两个产品都从共同的基类继承而来，但是这个继承关系却是在这个模式之外的部分，而本身这个模式关心的是这两个产品基类的差异部分。<br>代码实现：这里的代码就是借用的简单工厂模式中具体产品类的代码实现部分，为了大家阅读方便，下面重新给出一下。<br><br><pre class="programlisting">        //产品A<br>class ConcreteProductA:public Product<br>{<br>public:<br>ConcreteProductA(void);<br>public:<br>virtual ~ConcreteProductA(void);<br>public:<br>virtual void Function();<br>};<br>//cpp<br>ConcreteProductA::ConcreteProductA()<br>{<br>cout&lt;&lt;”创建 A 产品”&lt;&lt;endl;<br>}<br>ConcreteProductA::~ConcreteProductA()<br>{<br>cout&lt;&lt;”释放 A 产品”&lt;&lt;endl;<br>}<br>void ConcreteProductA::Function()<br>{<br>cout&lt;&lt;”这是产品 A 具有的基本功能”&lt;&lt;endl;<br>}<br>//产品B与A类似不这里不再给出，大家可以下载源码<br></pre><br><br><strong><br>具体产品</strong>类：这里的具体产品类是产品A1，A2，B1、B2等，<br>代码实现：A1对应的实现就是&ldquo;&rdquo;<br><br><pre class="programlisting">class ConcreteProductA1:public ConcreteProductA<br>{<br>public:<br>ConcreteProductA1(void);<br>public:<br>virtual ~ConcreteProductA1(void);<br>public:<br>virtual void Function();<br>};<br>//CPP<br>ConcreteProductA1::ConcreteProductA1()<br>{<br>cout&lt;&lt;”创建 A1 产品”&lt;&lt;endl;<br>}<br>ConcreteProductA1::~ConcreteProductA1()<br>{<br>cout&lt;&lt;”释放 A1 产品”&lt;&lt;endl;<br>}<br>void ConcreteProductA1::Function()<br>{<br>cout&lt;&lt;”这时产品 A1 具有的基本功能”&lt;&lt;endl;<br>}<br></pre><br><br><strong>工厂抽象</strong>接口：定义了创建产品的接口，这里返回参数是返回的产品A，产品B，而本身产品A和B的共同基类，小弟认为正是这个特征构成了抽象工厂和工厂模式的区别。<br>代码实现<br><br><pre class="programlisting">//抽象工厂模式<br>class AbstractFactory<br>{<br>public:<br>AbstractFactory();<br>public:<br>virtual ~AbstractFactory();<br>public:<br>virtual ConcreteProductA<em> CreateA() = 0;<br>virtual ConcreteProductB</em> CreateB() = 0;<br>};<br>//CPP<br>AbstractFactory::AbstractFactory()<br>{<br>}<br>AbstractFactory::~AbstractFactory()<br>{<br>}<br></pre><br><br>具体工厂实现类：工厂1和工厂2。新增加系列，只需新实现一个工厂。<br>代码实现: 工厂1的就是ConcreteAbsFactory1，工厂2的代码类似，这里没有给出，可以在下载代码中看到<br><br><pre class="programlisting">////工厂1—–<br>class ConcreteAbsFactory1:public AbstractFactory<br>{<br>public:<br>ConcreteAbsFactory1();<br>public:<br>virtual ~ConcreteAbsFactory1();<br>public:<br>virtual ConcreteProductA<em> CreateA();<br>virtual ConcreteProductB</em> CreateB();<br>};<br>//CPP<br>ConcreteAbsFactory1::ConcreteAbsFactory1()<br>{<br>}<br>ConcreteAbsFactory1::~ConcreteAbsFactory1()<br>{<br>}<br>ConcreteProductA<em> ConcreteAbsFactory1::CreateA()<br>{<br>return new ConcreteProductA1();<br>}<br>ConcreteProductB </em> ConcreteAbsFactory1::CreateB()<br>{<br>return new ConcreteProductB1();<br>}<br></pre><br><br>客户端访问： 访问角色（产品基类、抽象工厂、具体工厂实现类）<br>访问描述： 通过抽象工厂的指针访问具体工厂实现来创建对应系列的产品，然后通过产品基类指针访问产品功能。<br>调用代码：<br><br><pre class="programlisting">          AbstractFactory <em>absfct = new ConcreteAbsFactory1();<br>ConcreteProductA </em>cpa = absfct-&gt;CreateA();<br>cpa-&gt;Function();<br>delete cpa;<br>ConcreteProductB *cpb = absfct-&gt;CreateB();<br>cpb-&gt;Function();<br>delete cpb;<br>delete absfct;<br>absfct = new ConcreteAbsFactory2();<br>cpa = absfct-&gt;CreateA();<br>cpa-&gt;Function();<br>delete cpa;<br>cpb = absfct-&gt;CreateB();<br>cpb-&gt;Function();<br>delete cpb;<br></pre><br></div>

<p>&nbsp;</p>
<h5 id="和工厂模式的分析比较"><a href="#和工厂模式的分析比较" class="headerlink" title="和工厂模式的分析比较"></a>和工厂模式的分析比较</h5><p>&nbsp; &nbsp; &nbsp;&nbsp; 现在可以和工厂模式对比一下，抽象工厂返回的接口不再是产品A和产品B的共同基类Product了，而是产品A、产品B基类（在工厂模式中它们为具体实现类，这里变成了基类）了。此时工厂的抽象和简单工厂中的工厂方法也很类似，就是这些特征区使其别于工厂模式而变成抽象工厂模式了，因此抽象工厂解决的是创建一系列有共同风格的产品（鲁菜还是粤菜），而工厂方法模式解决的创建有共同特征的一系列产品（红烧肉、清蒸鱼它们都是食物）。当然简单工厂的缺陷在抽象工厂中又再次出现了，我要新增加一个产品，工厂抽象接口就要改变了。因此抽象工厂并不比工厂模式完美，只不过是各自的适用领域不同而已。其实，这里如果把抽象工厂模式的接口返回产品A和产品B的共同基类（工厂模式返回的参数），你会发现，奇怪这个模式怎么这么眼熟，它不是恰恰退化成工厂模式了。<br>&nbsp; &nbsp; &nbsp; &nbsp;类模式与对象模式的区别讨论：先看定义类&ldquo;模式使用继承关系，把对象的创建延迟的子类，对象模式把对象的创建延迟到另一个对象中&rdquo;。 分析：首先它们创建对象都不是在基类中完成，都是在子类中实现，因此都符合类模式的概念；但是工厂模式的创建产品对象是在编译期决定的，要调用某个工厂固定的，而抽象工厂模式对产品的创建是在运行时动态决定的，只有到运行时才确定要调用那个工厂，调用工厂随运行环境而改变。（这里我一直很混乱，欢迎大家讨论）</p>
<h5 id="适用性-1"><a href="#适用性-1" class="headerlink" title="适用性"></a>适用性</h5><ul>
<li>一个系统要独立于它的产品的创建、组合和表示时<em>   一个系统要由多个 产品系列中的一个来配置时</em>   当你要强调一个系列相关的产品对象的设计以便进行联合使用时*   当你提供一个产品类库，而只想显示它们的接口而不是实现时。</li>
</ul>
<h5 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h5><ul>
<li>吕震宇的<a href="http://www.cnblogs.com/zhenyulu/articles/36885.html" target="_blank" rel="noopener">C#设计模式（6）</a>*   TerryLee 的<a href="http://terrylee.cnblogs.com/archive/2005/12/13/295965.html" target="_blank" rel="noopener">.NET设计模式（3）：抽象工厂模式（Abstract Factory）</a></li>
</ul>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;工厂本质就是用工厂方法替代直接New来创建对象。这里不是指的让用户重载一个新操作符号来进行创建对象的操作，而是说把New 操作封装在一个方法中，等用户需要创建对象时调用此方法而避免直接使用New而已。这样做的目的就是之一就是封装，避免代码中大量New的运算符，这当然不是主要目的，因为这样虽然New少了，CreateObject方法却多了，但是如果产品类的构造函数变了，我想常用工厂模式的修改源代码的工作应该简便许多吧，当然这算不上这个模式的好处，它的真正强大的功能其实在于适应变化，这也是整个设计模式最根本的目的；还有一点就是体现了抽象于实现的分离，当然创建型模式都具有这个特点，工厂模式非常明显吧了，把具体创建工作放置到工厂中，使客户端程序更专注与业务逻辑的，这样的代码结构也更进行合理。</p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/07/14/c中回调callback的使用方法/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/07/14/c中回调callback的使用方法/" itemprop="url">C++中回调(CallBack)的使用方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-07-14T23:55:00+08:00">
                2009-07-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>回调函数是一个很有用，也很重要的概念。当发生某种事件时，系统或其他函数将会自动调用你定义的一段函数。回调函数在windows编程使用的场合很多，比如Hook回调函数：MouseProc,GetMsgProc以及EnumWindows,DrawState的回调函数等等，还有很多系统级的回调过程。 一般情况下, 我们使用的回调函数基本都是采用C语言风格. 这里介绍一种C++风格的回调对象方法. 采用template实现.</p>
<p>template &lt; class Class, typename ReturnType, typename Parameter &gt;&nbsp;&nbsp;<br>class SingularCallBack&nbsp;&nbsp;<br>{&nbsp;&nbsp;&nbsp;<br>public:&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; typedef ReturnType (Class::<em>Method)(Parameter);&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; SingularCallBack(Class</em> _class_instance, Method _method)&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //取得对象实例地址,及调用方法地址&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class_instance = _class_instance;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = _method;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; };&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; ReturnType operator()(Parameter parameter)&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 调用对象方法&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (class_instance-&gt;<em>method)(parameter);&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; };&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; ReturnType execute(Parameter parameter)&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 调用对象方法&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return operator()(parameter);&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; };&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; private:&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; Class</em>&nbsp; class_instance;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; Method&nbsp; method;&nbsp;&nbsp;<br>&nbsp;<br>};&nbsp;<br>示例:</p>
<p>以下是两个类实现.<br>class A&nbsp;&nbsp;<br>{&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; public:&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; void output()&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::cout &lt;&lt; “I am class A :D” &lt;&lt; std::endl;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; };&nbsp;&nbsp;<br>&nbsp;<br>};&nbsp;&nbsp;<br>&nbsp;<br>class B&nbsp;&nbsp;<br>{&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; public:&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; bool methodB(A a)&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a.output();&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;<br>&nbsp;<br>};&nbsp;&nbsp;<br>&nbsp;</p>
<p>SingularCallBack的各种调用示例:<br>A a;<br>B b;</p>
<p>SingularCallBack&lt; B,bool,A &gt;* cb;<br>cb = new SingularCallBack&lt; B,bool,A &gt;(&amp;b,&amp;B::methodB);</p>
<p>if(cb-&gt;execute(a))<br>{<br>&nbsp;&nbsp; std::cout &lt;&lt; “CallBack Fired Successfully!” &lt;&lt; std::endl;<br>}<br>else<br>{<br>&nbsp;&nbsp; std::cout &lt;&lt; “CallBack Fired Unsuccessfully!” &lt;&lt; std::endl;<br>}<br>&nbsp;&nbsp;<br>class AClass&nbsp;&nbsp;<br>{&nbsp;&nbsp;<br>&nbsp;&nbsp; public:&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; AClass(unsigned int _id): id(_id){};&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp; ~AClass(){};&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; bool AMethod(std::string str)&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; std::cout &lt;&lt; “AClass[“ &lt;&lt; id &lt;&lt; “]: “ &lt;&lt; str &lt;&lt; std::endl;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; };&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; private:&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp;&nbsp; unsigned int id;&nbsp;&nbsp;<br>&nbsp;<br>};&nbsp;&nbsp;&nbsp;</p>
<p>typedef SingularCallBack &lt; AClass, bool, std::string &gt; ACallBack;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;</p>
<p>int main()&nbsp;&nbsp;<br>{&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; std::vector &lt; ACallBack &gt; callback_list;&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; AClass a1(1);&nbsp;&nbsp;<br>&nbsp;&nbsp; AClass a2(2);&nbsp;&nbsp;<br>&nbsp;&nbsp; AClass a3(3);&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; callback_list.push_back(ACallBack(&amp;a1, &amp;AClass::AMethod));&nbsp;&nbsp;<br>&nbsp;&nbsp; callback_list.push_back(ACallBack(&amp;a2, &amp;AClass::AMethod));&nbsp;&nbsp;<br>&nbsp;&nbsp; callback_list.push_back(ACallBack(&amp;a3, &amp;AClass::AMethod));&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; for (unsigned int i = 0; i &lt; callback_list.size(); i++)&nbsp;&nbsp;<br>&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; callback_list<a href="&quot;abc&quot;">i</a>;&nbsp;&nbsp;<br>&nbsp;&nbsp; }&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; for (unsigned int i = 0; i &lt; callback_list.size(); i++)&nbsp;&nbsp;<br>&nbsp;&nbsp; {&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; callback_list[i].execute(“abc”);&nbsp;&nbsp;<br>&nbsp;&nbsp; }&nbsp;&nbsp;<br>&nbsp;<br>&nbsp;&nbsp; return true;&nbsp;&nbsp;<br>&nbsp;<br>}&nbsp;&nbsp;<br>&nbsp;</p>
<p>引用:</p>
<p>C++ Callback Solution </p>
<p>本文来自CSDN博客，转载请标明出处：<a href="http://blog.csdn.net/force_eagle/archive/2009/07/14/4347329.aspx" target="_blank" rel="noopener">http://blog.csdn.net/force_eagle/archive/2009/07/14/4347329.aspx</a></p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/07/09/im的技术原理与发展/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/07/09/im的技术原理与发展/" itemprop="url">IM的技术原理与发展</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-07-09T01:19:00+08:00">
                2009-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/未分类/" itemprop="url" rel="index">
                    <span itemprop="name">未分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一、IM技术概念</p>
<p>IM技术全称Instant Messaging，中文翻译&ldquo;即时通讯&rdquo;，它是一种使人们能在网上识别在线用户并与他们实时交换消息的技术，是电子邮件发明以来迅速崛起的在线通讯方式。</p>
<p>IM的出现和互联网有着密不可分的关系，IM完全基于TCP/IP网络协议族实现，而TCP/IP协议族则是整个互联网得以实现的技术基础。 最早出现即时通讯协议是IRC（Internet Relay Chat），但是可惜的是它仅能单纯的使用文字、符号的方式通过互联网进行交谈和沟通。随着互连网变得高度发达，即时通讯也变得远不止聊天这么简单，自1996年第一个IM产品ICQ发明后，IM的技术和功能也开始基本成型，语音、视频、文件共享、短信发送等高级信息交换功能都可以在IM工具上实现，于是功能强大的IM软件便足以搭建一个完整的通信交流平台。目前最具代表性的几款的IM通讯软件有MSN、Google Talk、Yahoo、Messenger 、腾讯QQ等。</p>
<p>二、IM技术原理和工作方式</p>
<p>典型的IM工作方式如下：登陆IM通讯中心（IM通讯服务器），获取一个自建立的历史的交流对象列表（好友列表），然后自身标志为在线状态，当好友列表中的某人在任何时候登录上线并试图通过你的计算机联系你时，IM系统会发一个消息提醒你，然后你能与他建立一个聊天会话通道进行各种消息如键入文字、通过语音等的交流，<br>从技术上来说，IM的基本技术原理如下：</p>
<p>IM服务器<br>登陆或注销<br>用户A通过列表找到B，用户B获得的消息并与之交谈<br>通过IM服务器指引建立与B单独的通讯通道</p>
<p>第一步，用户A输入自己的用户名和密码登录IM服务器，服务器通过读取用户数据库来验证用户身份，如果验证通过，登记用户A的IP地址、IM客户端软件的版本号及使用的TCP/UDP端口号，然后返回用户A登录成功的标志，此时用户A在IM系统中的状态为在线（Online Presence）。</p>
<p>第二步，根据用户A存储在IM服务器上的好友列表（Buddy List），服务器将用户A在线的相关信息发送给也同时在线的IM好友的PC机，这些信息包括在线状态、IP地址、IM客户端使用的TCP端口（Port）号等，IM好友的客户端收到此信息后将在予以提示。</p>
<p>第三步是IM服务器把用户A存储在服务器上的好友列表及相关信息回送到他的客户端机，这些信息包括也在线状态、IP地址、IM客户端使用的TCP端口（Port）号等信息，用户A的IM客户端收到后将显示这些好友列表及其在线状态。</p>
<p>三、IM通讯方式</p>
<p>1.在线直接通讯<br>如果用户A想与他的在线好友用户B聊天，他将直接通过服务器发送过来的用户B的IP地址、TCP端口号等信息，直接向用户B的PC机发出聊天信息，用户B的IM客户端软件收到后显示在屏幕上，然后用户B再直接回复到用户A的PC机，这样双方的即时文字消息就不再IM服务器中转，而是直接通过网络进行点对点的通讯，即对等通讯方式（Peer To Peer）。</p>
<p>2.在线代理通讯<br>用户A与用户B的点对点通讯由于防火墙、网络速度等原因难以建立或者速度很慢，IM服务器将会主动提供消息中转服务，即用户A和用户B的即时消息全部先发送到IM服务器，再由服务器转发给对方。</p>
<p>3.离线代理通讯<br>用户A与用户B由于各种原因不能同时在线的时候，如此时A向B发送消息，IM服务器可以主动寄存A用户的消息，到B用户下一次登陆的时候，自动将消息转发给B。</p>
<p>4.扩展方式通讯<br>用户A可以通过IM服务器将信息以扩展的方式传递给B，如短信发送方式发送到B的手机，传真发送方式传递给B的电话机，以email的方式传递给B的电子邮箱等。<br>早期的IM系统，在IM客户端和IM服务器之间通讯采用UDP协议，UDP协议是不可靠的传输协议，而在IM客户端之间的直接通讯中，采用具备可靠传输能力的TCP协议。随着用户需求和技术环境的发展，目前主流的IM系统倾向于在IM客户端之间、IM客户端和IM服务器之间都采用TCP协议。<br>即时通讯相对于其他通讯方式如电话、传真、email等的最大优势就是消息传达的即时性和精确性，只要消息传递双方均在网络上可以互通，使用即时通讯软件传递消息，传递延时仅为1秒种</p>
<p>四、兴起的嵌入式IM工具。</p>
<p>传统的IM在统治了互联网即时通讯领域长达十年之久，以其日趋稳定的定能，与较强的用户黏着度，至今仍统治着这个巨大的市场。然而，软件行业的技术精英们，并不满足于此。他们厚积薄发，一直致力于开发出性能更为优越的即时通讯工具。当然，在功能上的不断完善，自然是一个必然的发展方向，在Web2.0时代，如何大力增强用户对网站的黏着度，而不仅仅是对于IM的拥附，已经成为他们的主攻方向了。于是，嵌入式IM工具，应运而生了。</p>
<p>相对以往的传统的即使沟通工具，它们需要用户下载软件包，需要用户进行安装。对于拥有IM产品的网站而言，用户在登陆网站后，不能直接使用其IM工具，对于流量与用户的黏着度，都是有一定影响的。因此在IM与网站相互依存的今天，没有哪家网络公司，愿意将IM工具孤立开来。</p>
<p>于是，目前，一种新型的嵌入式IM工具就应运而生了。这种IM工具，不需要下载安装，当用户登陆网页后，该IM直接嵌套在网页中，可以直接使用。</p>
<p>而在功能上，则一点也不输于传统的IM，无论是传统的文字沟通的速度与效率，还是近年来越来越成为IM工具必备的音频/视频功能，这种嵌入式IM都能提供非常稳定的传输。更值得一提的是，因为嵌入式IM是嵌套在网页上的，软件供应商，可以根据网站需求，设计出适合网站风格的IM产品。而不是像传统的IM工具，千篇一律，毫无个性可言。</p>
<p>目前，这类嵌入式IM在社区、交友、社团及协作等类型的网站上，应用已经较为广泛。在Web2.0时代，将发挥越来越重要的作用。 </p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/07/06/vs2005内存泄漏检测方法/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/07/06/vs2005内存泄漏检测方法/" itemprop="url">VS2005内存泄漏检测方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-07-06T00:55:00+08:00">
                2009-07-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/VC/" itemprop="url" rel="index">
                    <span itemprop="name">VC</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>&lt;div&gt;
</code></pre><p>原文地址：&nbsp;<a href="http://ufownl.blog.163.com/blog/static/1250122200861912757566/" target="_blank" rel="noopener">http://ufownl.blog.163.com/blog/static/1250122200861912757566/</a></p>
<p>非MFC程序可以用以下方法检测内存泄露：</p>
<p>&nbsp;</p>
<p>1.程序开始包含如下定义：</p>
<p>#define _CRTDBG_MAP_ALLOC</p>
<p>#include &lt;stdlib.h&gt;</p>
<p>#include &lt;crtdbg.h&gt;</p>
<p>&nbsp;</p>
<p>2.程序退出前添加下面的函数：</p>
<p>_CrtDumpMemoryLeaks();</p>
<p>&nbsp;</p>
<p>Debug版本程序运行结束后如有内存泄漏，输出窗口中会显示类似信息：<br>Detected memory leaks!<br>Dumping objects -&gt;<br>e:/microsoft visual studio 8/vc/include/crtdbg.h(1150) : {48} normal block at 0x00382F50, 12 bytes long.<br>&nbsp;Data: &lt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt; 01 00 00 00 02 00 00 00 03 00 00 00<br>Object dump complete.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>MFC程序内存泄漏检测方法：</p>
<p>&nbsp;</p>
<p>1.在 CMyApp 中添加如下三个 CMemoryState 类的成员变量：</p>
<p>#ifdef _DEBUG<br>protected:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CMemoryState m_msOld, m_msNew, m_msDiff;</p>
<p>#endif&nbsp; // _DEBUG</p>
<p>&nbsp;</p>
<p>2.在 CMyApp::InitInstance() 中添加如下代码：</p>
<p>#ifdef _DEBUG<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_msOld.Checkpoint();</p>
<p>#endif&nbsp; // _DEBUG</p>
<p>&nbsp;</p>
<p>3.在 CMyApp::ExitInstance() 中添加如下代码：</p>
<p>#ifdef _DEBUG<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_msNew.Checkpoint();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (m_msDiff.Difference(m_msOld, m_msNew))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; afxDump&lt;&lt;”/nMemory Leaked :/n”;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m_msDiff.DumpStatistics();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; afxDump&lt;&lt;”Dump Complete !/n/n”;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>#endif&nbsp; // _DEBUG</p>
<p>&nbsp;</p>
<p>Debug版本程序运行结束后如有内存泄漏，输出窗口中会显示类似信息：</p>
<p>Memory Leaked :<br>0 bytes in 0 Free Blocks.<br>8 bytes in 1 Normal Blocks.<br>0 bytes in 0 CRT Blocks.<br>0 bytes in 0 Ignore Blocks.<br>0 bytes in 0 Client Blocks.<br>Largest number used: 8825 bytes.<br>Total allocations: 47506 bytes.<br>Dump Complete !</p>
<p>Detected memory leaks!<br>Dumping objects -&gt;<br>g:/programs/chat/chatdlg.cpp(120) : {118} normal block at 0x00D98150, 8 bytes long.<br>&nbsp;Data: &lt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt; A8 7F D9 00 01 00 00 00<br>Object dump complete.</p>
<p><br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/07/05/代理类surrogate/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/07/05/代理类surrogate/" itemprop="url">代理类(Surrogate)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-07-05T23:44:00+08:00">
                2009-07-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 依然是学习&lt;Ruminations On c++&gt;的一点笔记。</p>
<p>问题的提出是：怎样设计一个C++容器，使它有能力包含类型不同而彼此相关的对象呢？</p>
<p>容器通常只能包含一种类型的对象，所以很难在容器中存储对象本身，最容易想到的就是存储指针(我目前在项目中使用的也是这种方法)，这样虽然可以通过继承来处理类型不同的问题，但是也增加了内存分配的额外负担。</p>
<p>书中介绍了一种叫做代理的对象来解决这个问题，代理类是句柄类中最简单的一种，下面是一个简单的代理类实现：</p>
<pre style="border: 1px dotted #785;background: #f5f5f5;">// Surrogate.cpp : 定义控制台应用程序的入口点。
//
#include "stdafx.h"

#define _CRTDBG_MAP_ALLOC
#include &lt;stdlib.h&gt;
#include &lt;crtdbg.h&gt;

#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

class Vehicle
{
public:
virtual double weight()const =0;
virtual void   start()=0;
virtual Vehicle* copy()const=0;//用来复制编译时类型未知的对象
virtual ~Vehicle()//以便调用正确的派生类析构函数
{

}
//...
};

class RoadVehicle : public Vehicle
{
public:
double weight()const
{
cout&lt;&lt;"RoadVehicle::weight()"&lt;&lt;endl;
return 0;
}
void   start()
{
cout&lt;&lt;"RoadVehicle::start()"&lt;&lt;endl;
}
Vehicle* copy()const
{
return new RoadVehicle(*this);
}
/**/
};

class AutoVehicle : public RoadVehicle
{
public:
double weight()const
{
cout&lt;&lt;"AutoVehicle::weight()"&lt;&lt;endl;
return 0;
}
void   start()
{
cout&lt;&lt;"AutoVehicle::start()"&lt;&lt;endl;
}
Vehicle* copy()const
{
return new AutoVehicle(*this);
}
/**/
};

class Aircraft : public Vehicle
{
public:
double weight()const
{
cout&lt;&lt;"Aircraft::weight()"&lt;&lt;endl;
return 0;
}
void   start()
{
cout&lt;&lt;"Aircraft::start()"&lt;&lt;endl;
}
Vehicle* copy()const
{
return new Aircraft(*this);
}
/**/
};

class Helicopter : public Aircraft
{
public:
double weight()const
{
cout&lt;&lt;"Helicopter::weight()"&lt;&lt;endl;
return 0;
}
void   start()
{
cout&lt;&lt;"Helicopter::start()"&lt;&lt;endl;
}
Vehicle* copy()const
{
return new Helicopter(*this);
}
/**/
};

//代理类
class VehicleSurrogate
{
public:
VehicleSurrogate();
VehicleSurrogate(const Vehicle&amp;);
~VehicleSurrogate();
VehicleSurrogate(const VehicleSurrogate&amp;);
VehicleSurrogate&amp; operator=(const VehicleSurrogate&amp;);

//来自类Vehicle的操作
double weight()const;
void start();
private:
Vehicle *vp;
};

VehicleSurrogate::VehicleSurrogate():vp(0)
{

}

VehicleSurrogate::VehicleSurrogate(const Vehicle&amp; v):vp(v.copy())
{

}

VehicleSurrogate::~VehicleSurrogate()
{
delete vp;
}

VehicleSurrogate::VehicleSurrogate(const VehicleSurrogate&amp; v):vp(v.vp?v.vp-&gt;copy():0)
{

}

VehicleSurrogate&amp; VehicleSurrogate::operator=(const VehicleSurrogate&amp; v)
{
if (this!=&amp;v)
{
delete vp;
vp=(v.vp?v.vp-&gt;copy() : 0);
}
return *this;
}

//直接转发给vp调用
double VehicleSurrogate::weight()const
{
if (vp==0)
{
throw "empty VehicleSurrogate.weight()";
}
return vp-&gt;weight();
}

void VehicleSurrogate::start()
{
if (vp==0)
{
throw "empty VehicleSurrogate.start()";
}
vp-&gt;start();
}

int _tmain(int argc, _TCHAR* argv[])
{
vector&lt;VehicleSurrogate&gt; vecVS;

RoadVehicle rv;
Aircraft ar;
AutoVehicle av;
Helicopter hc;
vecVS.push_back(rv);
vecVS.push_back(ar);
vecVS.push_back(av);
vecVS.push_back(hc);

vector&lt;VehicleSurrogate&gt;::iterator iter=vecVS.begin();
vector&lt;VehicleSurrogate&gt;::iterator iterEnd=vecVS.end();
while(iter!=iterEnd)
{
iter-&gt;weight();
iter-&gt;start();
iter++;
}

_CrtDumpMemoryLeaks();

return 0;
}</pre> 

<p>下面是测试结果，使用VS2005发现有内存泄漏，暂时没找到原因。</p>
<p><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/ToCpp/EntryImages/20090706/Surrogate.png" alt="result"></p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/06/29/wm-nchittest的几点心得/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/06/29/wm-nchittest的几点心得/" itemprop="url">WM_NCHITTEST的几点心得</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-06-29T01:43:00+08:00">
                2009-06-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/VC/" itemprop="url" rel="index">
                    <span itemprop="name">VC</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>1：WM_NCHITTEST是作为Non-Client测试使用的，</strong></p>
<p><strong>2：当此消息的返回值为MSDN上面所述的<span style="color: #0000ff;"><span style="text-decoration: underline;">DefWindowProc</span></span></strong><span style="color: #000000;"><strong>所规定的相应值时，系统才会进一步产生相应的客户区或者非客户区鼠标消息，而且在你使用OnNcCalcSize时自定义的非客户区内，系统是不会产生任何鼠标消息的，除非你返回一个值以表示当前鼠标在哪个区域，毕竟对于你的区域系统也不知道该返回什么值</strong></span></p>
<p><strong>3：除了返回<span style="color: #0000ff;"><span style="text-decoration: underline;">HTCLIENT</span><span style="color: #000000;"><span style="text-decoration: underline;">，</span>其他任何值系统都会产生相应的NC鼠标消息</span></span></strong></p>
<p><strong><span style="color: #0000ff;"></span></strong></p>
<p><strong><span style="color: #0000ff;"><span style="color: #000000;">这个消息困惑好久了，今天测试了下才发现是这样的，真是恍然大悟，明天做个例子测试下。</span></span></strong></p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/06/17/应用器-ampampamp-操纵器/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/06/17/应用器-ampampamp-操纵器/" itemprop="url">应用器 & 操纵器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-06-17T23:44:00+08:00">
                2009-06-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 操纵器(Manipalator)，以某种方式作用于它的参数所表示的数据；应用器(Applicator)，是一个重载操作符，它的操作数是一个可操纵的值和一个将作用于这个值得操纵器。</p>
<p>&nbsp;template &lt;class stype,class vtype &gt;<br>class fcn_obj<br>{<br>public:<br>&nbsp; fcn_obj(stype (<em>f)(stype&amp;,vtype),vtype v):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; func(f),val(v)<br>&nbsp; {<br>&nbsp; }<br>&nbsp; stype&amp; operator()(stype&amp; s)const<br>&nbsp; {<br>&nbsp;&nbsp;&nbsp; return (</em>func)(s,val);<br>&nbsp; }<br>private:<br>&nbsp; stype&amp; (*func)(stype&amp;,vtype),vtype v);<br>&nbsp; vtype val;<br>};</p>
<p>template &lt;class stype,class vtype&gt;<br>stype&amp; operator&lt;&lt;<br>(stype&amp; ofile,const fcn_obj&lt;stype,vtype&gt;&amp; im)<br>{<br>&nbsp;&nbsp; return im(ofile);<br>}</p>
<p>fun_obj&lt;ostream long&gt;<br>hexconv(long n)<br>{<br>&nbsp;&nbsp; ostream (*my_hex)(ostream&amp;,long)=hexconv;<br>&nbsp;&nbsp; return fcn_obj&lt;ostream,long&gt;(my_hex,n);<br>}</p>
<p>&nbsp;</p>
<p>上面的代码来自Ruminations On C++，iostream库中使用了这个设计，使得cout&lt;&lt;”Hello,World!”&lt;&lt;endl;用起来很舒服，终于知道了endl为什么叫做操纵器了。</p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/06/14/回调函数指南/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/06/14/回调函数指南/" itemprop="url">回调函数指南</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-06-14T18:38:00+08:00">
                2009-06-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong><span style="font-family: &quot;微软雅黑&quot;,&quot;sans-serif&quot;; font-size: 15pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;"><span lang="EN-US"></span></span></strong></p>
<p><strong><span style="font-family: &quot;微软雅黑&quot;,&quot;sans-serif&quot;; font-size: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;">作者： <span lang="EN-US">Marius Bancila</span></span></strong></p>
<p><strong><span style="font-family: &quot;微软雅黑&quot;,&quot;sans-serif&quot;; font-size: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;">翻译<span lang="EN-US">:<span style="mso-spacerun: yes;">&nbsp; </span>QiuTao</span></span>**</strong><span style="font-family: &quot;微软雅黑&quot;,&quot;sans-serif&quot;; font-size: 12pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt;" lang="EN-US"></span>**</p>
<p><strong><span style="font-family: 宋体; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">介绍</span>**</strong><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span>**</p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast; mso-bidi-font-weight: bold;">如果你正在读这篇文章，也许你是想知道什么是回调函数。这篇文章讲解了什么是回调函数，他们有什么优点，以及为什么你要使用他们等等。但是在学习回调函数之前，你应该对函数指针有一定得了解。如果你还不了解，可以参考<span lang="EN-US">C/C++</span>书籍或者下面的链接：</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;" lang="EN-US"></span></span></p>
<ul>
<li><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><a href="http://www.newty.de/fpt/fpt.html" target="_blank" rel="noopener"><span style="color: blue; mso-bidi-font-size: 11.0pt;">The Syntax of C and C++ Function Pointers</span></a> </span></li>
<li><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><a href="http://www.parashift.com/c++-faq-lite/pointers-to-members.html" target="_blank" rel="noopener"><span style="color: blue; mso-bidi-font-size: 11.0pt;">Pointers to member functions</span></a> </span></li>
<li><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><a href="http://www.eskimo.com/~scs/cclass/int/sx10a.html" target="_blank" rel="noopener"><span style="color: blue; mso-bidi-font-size: 11.0pt;">Declaring, Assigning, and Using Function Pointers</span></a> </span></li>
</ul>
<p><strong><span style="font-family: 宋体; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">什么是回调函数？</span>**</strong><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span>**</p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">对这个问题的一个简单回答就是，回调函数是一个通过函数指针调用的函数。如果你传递一个函数指针</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">(</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">地址</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">)</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">参数给另一个函数，当那个指针被用作去调用它所指的函数时，回调就产生了。</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<p><strong><span style="font-family: 宋体; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">为什么要使用回调函数？</span>**</strong><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span>**</p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">因为他们将调用者和被调者分开了，调用者不需要关心被调者，它仅仅需要知道被调者的原型以及某些可能的限制</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">(</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">例如，返回值可以为</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">int,</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">但是特定的只有特定的意义</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">)</span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">如果你想知道在它在现实中的用途，想象一下你想写一个提供实现排序算法的库，比如冒泡排序，希尔排序，快速排序等等。但是你不想将排序的逻辑</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">(</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">元素之间的先后关系</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">)</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">放在你的函数中，从而使得库更加易于使用。你希望客户自己实现排序之间的逻辑关系，或者你希望可以用于各种各样的数据类型</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">(int,floats,strings</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">等等</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">)</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">。你该怎么办呢？你可以使用函数指针并进行回调。</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US"></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">回调可以被用作通知，例如。你需要在程序中设置一个定时器，每当一段时间过去后，你的程序必须被通知。但是，定时器的实现机制对你的程序一无所知。它仅仅希望一个给定原型的函数指针，并使用函数指针进行回调，通知你的程序某个事件发生了。确实，</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">API</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">函数</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">SetTimer</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">在一段时间到达后使用一个回调进行通知</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">(</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">如果没有提供回调函数，它将给应用程序队列投递一个消息</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">)</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">。</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US"></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">另外一个使用回调函数的</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US">API</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-bidi-font-weight: bold;">函数</span></span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">EnumWindow</span><span style="font-family: 宋体; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">，</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;"><span style="font-size: small;">枚举当前屏幕中所有的顶层窗口。</span></span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">EnumWindow</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;"><span style="font-size: small;">迭代每一个顶层窗口，传递一个窗口句柄给提供的回调函数。如果被调者返回一个值，那么迭代继续，否则迭代停止。</span></span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">EnumWindow</span><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">并不关系被调用者是什么以及它对传读过去的句柄做了些什么，它仅仅对其返回值感兴趣，因为它是基于该返回值决定是否需要继续执行。</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">然而，回调函数是从</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">C</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">继承而来的，因此，在</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">C++</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">中应该仅仅在需要与</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">C</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">代码中进行交互时使用，除此之外，你应该使用虚拟函数或者函数对象，而不是回调函数。</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体; mso-bidi-font-weight: bold;" lang="EN-US"></span></span></p>
<p><strong><span style="font-family: 宋体; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">一个简单的实现例子</span>**</strong><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span>**</p>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">下面的例子可以再附件文件中找到，我创建了一个叫做<span lang="EN-US">sort.dll</span>的动态链接库。它导出了一个叫做<span lang="EN-US">CompareFunction</span>类型的函数：<span lang="EN-US"></span></span></span></p>
<div style="background: #eeeeee; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">typedef</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> (</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">__stdcall</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> <em>CompareFunction)(</em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">, </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">*);</span><br><br></div>

<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">该函数原型是你的回调函数的类型，另外还导出了两个方法，分别是</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">BubbleSort</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">和</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">QuickSort</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">，这两个函数有一样的原型，但是提供了不一样的排序算法。</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<div style="background: #eeeeee; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">void</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> DLLDIR </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><strong>stdcall</strong></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> Bubblesort(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">* array,</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> size,</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> elem_size,</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CompareFunction cmpFunc);</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">void</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> DLLDIR </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">stdcall</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> Quicksort(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">* array,</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> size,</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> elem_size,</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>CompareFunction cmpFunc);</span><br><br></div>

<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">各个参数的意义为：</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt;">※</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte* array:</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">指向数组元素类型的指针</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">(</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">任意类型</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">)</span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt;">※</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">int size</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">：数组元素个数</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt;">※</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">int elem_size:</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">数组中每一个元素的大小，按字节计算</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt;">※</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">CompareFunction cmpFunc:</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">回调函数指针</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">这两个函数的实现都是对一个数组进行排序，但是，每一次都需要决定两个元素中哪个在前面，被作为参数传递的回调函数地址即是进行。对于库编写者，它不需要关心这个函数是否实现了，以及是如何实现的。它所关心的是这个函数带有两个以元素地址为参数类型的参数并返回下面值之一</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">(</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">这是库开发者和用户之间约定的</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">)</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">：</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></p>
<ul>
<li><span style="font-size: small;"><span style="font-family: 宋体; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;" lang="EN-US">-1: </span><span style="font-family: 宋体; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;">如果第一个元素小于或者在第二个元素之前<span lang="EN-US"></span></span></span></li>
<li><span style="font-size: small;"><span style="font-family: 宋体; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;" lang="EN-US">0: </span><span style="font-family: 宋体; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;">如果两个元素相等或者相对位置没有规定<span lang="EN-US"></span></span></span></li>
<li><span style="font-size: small;"><span style="font-family: 宋体; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;" lang="EN-US">1:</span><span style="font-family: 宋体; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;">如果第一个元素大于或者在第二个元素之后<span lang="EN-US"></span></span></span></li>
</ul>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;"><span style="font-size: small;">在这些约定之后，</span></span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">Bubblesort</span><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">的实现如下<span lang="EN-US">(Quicksort</span>，比这稍微复杂点，可以参见附件<span lang="EN-US">):</span></span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;" lang="EN-US"></span></span></p>
<div style="background: #eeeeee; margin-left: 18pt; margin-right: 0cm; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">void</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> DLLDIR </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">__stdcall</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> Bubblesort(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> array,</em></span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> size,</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> elem_size,</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>CompareFunction cmpFunc)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">{</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">for</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> i=0; i &lt; size; i++)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>{</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">for</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> j=0; j &lt; size-1; j++)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: green; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">// make the callback to the comparison function</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">if</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(1 == (cmpFunc)(array+j<em>elem_size,</em></span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>array+(j+1)elem_size))</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>{</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: green; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">// the two compared elements must be interchanged</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> temp = </em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">new</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">[elem_size];</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>memcpy(temp, array+jelem_size, elem_size);</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>memcpy(array+j<em>elem_size,</em></span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>array+(j+1)elem_size,</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>elem_size);</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>memcpy(array+(j+1)*elem_size, temp, elem_size);</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">delete</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> [] temp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>}</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>}</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">}</span><br><br></div>

<p><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">注意：由于实现中使用了<span lang="EN-US">memcpy,</span>这个这些库函数只能在<span lang="EN-US">POD</span>类型中使用<span lang="EN-US"></span></span></span></strong></p>
<p><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">在客户端，他们必须实现一个通过地址传递给<span lang="EN-US">Bubblesor</span>函数的回调函数，作为一个简单的实现，我写了一个比较两个整形和字符串常量的例子：<span lang="EN-US"></span></span></span></p>
<div style="background: #eeeeee; margin-left: 18pt; margin-right: 0cm; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><strong>stdcall</strong></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> CompareInts(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> velem1, </em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> velem2)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">{</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> elem1 = <em>(</em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">)velem1;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> elem2 = <em>(</em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">)velem2;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">if</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(elem1 &lt; elem2)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">return</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> -1;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">if</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(elem1 &gt; elem2)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">return</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> 1;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">return</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> 0;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">}</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">stdcall</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> CompareStrings(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> velem1, </em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> velem2)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">{</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">char</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> elem1 = (</em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">char</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">)velem1;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">char</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> elem2 = (</em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">char</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">)velem2;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">return</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> strcmp(elem1, elem2);</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">}</span><br><br></div>

<p><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 8.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;"><span style="font-size: small;">为了将这些进行测试，我编写了一个简单的程序，传递一个包含<span lang="EN-US">5</span>个元素的数组以及相应的回调函数指针给</span></span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">Bubblesort()</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: major-fareast; mso-fareast-theme-font: major-fareast; mso-hansi-theme-font: major-fareast;"><span style="font-size: small;">和</span></span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">Quicksort()</span></p>
<div style="background: #eeeeee; margin-left: 18pt; margin-right: 0cm; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> main(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> argc, </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">char</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> argv[])</em></span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">{</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> i;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> array[] = {5432, 4321, 3210, 2109, 1098};</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; “Before sorting ints with Bubblesort/n”;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">for</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(i=0; i &lt; 5; i++)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; array[i] &lt;&lt; ‘/n’;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>Bubblesort((</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">)array, 5, </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">sizeof</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(array[0]), &amp;CompareInts);</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; “After the sorting/n”;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">for</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(i=0; i &lt; 5; i++)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; array[i] &lt;&lt; ‘/n’;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">char</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> str[5][10] = {“estella”,</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>“danielle”,</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;</span>“crissy”,</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>“bo”,</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>“angie”};</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; “Before sorting strings with Quicksort/n”;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">for</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(i=0; i &lt; 5; i++)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; str[i] &lt;&lt; ‘/n’;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>Quicksort((</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">*)str, 5, 10, &amp;CompareStrings);</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; “After the sorting/n”;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">for</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(i=0; i &lt; 5; i++)</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>cout &lt;&lt; str[i] &lt;&lt; ‘/n’;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">return</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> 0;</span><br><br><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 9.0pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">}</span><br><br></div>

<p><span style="font-family: Symbol; color: black; font-size: 10pt; mso-bidi-font-family: Symbol; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: Symbol;" lang="EN-US"><span style="mso-list: Ignore;">&middot;<span style="font: 7pt &quot;Times New Roman&quot;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">如果我希望以降序排列</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">(</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">最大的元素在第一个</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US">)</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">，需要做的只是改变回调函数代码或者提供另一个期望的回调函数。</span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></span></p>
<p><strong><span style="font-family: 宋体; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">调用约定</span>**</strong><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span>**</p>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-weight: bold;"><span style="font-size: small;">在上面的代码中，你可以看到在函数声明部分有个<span lang="EN-US"><strong>stdcall</strong></span>。由于它以一个双下划线开始，很显然这是一个编译器特定的扩展，更准确的说是微软特定的扩展。任何支持<span lang="EN-US">Win32</span>应用程序开发的编译器都提供这样或者与之等价的扩展。一个通过<span lang="EN-US">stdcall</span>标记的函数使用标准的调用约定，之所以这样叫是因为<span lang="EN-US">Win32API</span>函数<span lang="EN-US">(</span>除了部分带有可变参数列表的外<span lang="EN-US">)</span>使用它。遵循标准调用约定的函数，在返回调用者之前先清除堆栈中参数。这是源自<span lang="EN-US">Pascal</span>的标准调用约定。但是在<span lang="EN-US">C/C++</span>中，调用约定是调用者清理堆栈而不是被调用者。为了强制函数使用<span lang="EN-US">C/C++</span>函数调用，<span lang="EN-US">__cedecl</span>必须被指定。变参参数函数使用<span lang="EN-US">c/c++</span>调用约定。<span lang="EN-US"></span></span></span></p>
<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-weight: bold;" lang="EN-US">Windows</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-weight: bold;">采用<span lang="EN-US">Pascal</span>调用约定是因为它可以减少代码体积，这在早期运行在只有<span lang="EN-US">640kb RAM</span>的系统上的<span lang="EN-US">Windows</span>是非常重要的。<span lang="EN-US"></span></span></span></p>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-weight: bold;"><span style="font-size: small;">如果你不喜欢<span lang="EN-US">__stdcall</span>，你也可以使用<span lang="EN-US">CALLBACK</span>宏，在<span lang="EN-US">windef.h</span>中定义如下：<span lang="EN-US"></span></span></span></p>
<div style="background: #eeeeee; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">#define</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> CALLBACK<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">__stdcall</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span><br><br></div>

<p><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">or</span></p>
<div style="background: #eeeeee; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">#define</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> CALLBACK<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>PASCAL</span><br><br></div>

<p><span style="font-size: small;"><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;" lang="EN-US">PASCAL</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;">被定义为<span lang="EN-US">__stdcall</span></span></span></p>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">你可以通过连接</span></span><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><a href="http://www.hackcraft.net/cpp/MSCallingConventions/" target="_blank" rel="noopener"><span style="color: blue; mso-bidi-font-size: 11.0pt;">Calling Convetions in Microsoft Visual C++</span></a>.</span><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">获取更多调用约定的信息<span lang="EN-US"></span></span></span></p>
<p><strong><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">C++</span>**</strong><span style="font-family: 宋体; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana;">成员函数作为回调函数</span><strong>**<span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 14pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></strong></p>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast; mso-bidi-font-weight: bold;"><span style="font-size: small;">由于你可能正在使用<span lang="EN-US">C++</span>，希望使用成员函数作为回调函数。但是，如果你进行下面的尝试：<span lang="EN-US"></span></span></span></p>
<div style="background: #eeeeee; mso-element: para-border-div; mso-border-alt: solid #999999 .75pt; border: #999999 1pt solid; padding: 7pt;"><br><br><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">class</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> CCallbackTester</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">{</span><br><br><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">public</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">:</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">int</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> CALLBACK CompareInts(</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><em> velem1, </em></span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">const</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"> velem2);</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">};</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">&nbsp;</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">Bubblesort((</span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">byte</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">*)array, 5, </span><span style="font-family: &quot;Courier New&quot;; color: blue; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">sizeof</span><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">(array[0]),</span><br><br><span style="font-family: &quot;Courier New&quot;; color: black; font-size: 9pt; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&amp;CCallbackTester::CompareInts);</span><br><br></div>

<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">如果使用<span lang="EN-US">MS</span>编译器，你将会得到下面的编译错误：<span lang="EN-US"></span></span></span></p>
<p><em><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US">error C2664: ‘Bubblesort’ : cannot convert parameter 4 from ‘int (<strong>stdcall CCallbackTester::<em>)(const unsigned char </em>,const unsigned char *)’ to ‘int (</strong>stdcall <em>)(const unsigned char </em>,const unsigned char *)’ There is no context in which this conversion is possible</span></em><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; color: black; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"></span></p>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">这是由于<span lang="EN-US">non-static</span>成员函数有一个额外参数，<span lang="EN-US">this</span>指针。<span lang="EN-US"></span></span></span></p>
<p><span style="font-family: 宋体; color: black; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-bidi-font-size: 10.5pt; mso-ascii-theme-font: minor-fareast; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-theme-font: minor-fareast;"><span style="font-size: small;">这将迫使你使用<span lang="EN-US">static</span>成员函数，如果<span lang="EN-US">static</span>不能接受，你可以使用某些技术解决这个问题，可以通过下面的链接查找：<span lang="EN-US"></span></span></span></p>
<ul>
<li><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><a href="http://www.newty.de/fpt/callback.html" target="_blank" rel="noopener"><span style="color: blue; mso-bidi-font-size: 11.0pt;">How to Implement Callbacks in C and C++</span></a> </span></li>
<li><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><a href="http://www.codeguru.com/Cpp/Cpp/cpp_mfc/callbacks/article.php/c4129/" target="_blank" rel="noopener"><span style="color: blue; mso-bidi-font-size: 11.0pt;">C++ Callback Demo</span></a> </span></li>
<li><span style="font-family: &quot;Verdana&quot;,&quot;sans-serif&quot;; font-size: 8pt; mso-bidi-font-family: 宋体; mso-font-kerning: 0pt; mso-fareast-font-family: 宋体;" lang="EN-US"><a href="http://www.tutok.sk/fastgl/callback.html" target="_blank" rel="noopener"><span style="color: blue; mso-bidi-font-size: 11.0pt;">Callbacks in C++ Using Template Functors</span></a> </span><br></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2009/06/10/com初识/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="billowqiu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="taocoding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2009/06/10/com初识/" itemprop="url">Com初识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-06-10T01:48:00+08:00">
                2009-06-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/VC/" itemprop="url" rel="index">
                    <span itemprop="name">VC</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近决定真正的看看Com了，目前的理解：</p>
<p>必须实现IUnknow的三个接口，需要一个IDL文件，通过QueryInterface来获取接口并调用，直接用C++写比较繁琐，用ATL貌似是比较好的，还没具体研究过，先记到这，后续继续学习。</p>
<p></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">billowqiu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">157</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/billowqiu" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:billowqiu@163.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">billowqiu</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
