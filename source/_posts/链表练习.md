---
title: 链表练习
id: 118
categories:
  - 数据结构/算法
date: 2010-07-04 00:10:00
tags:
---

    

一个简单实用的链表，有时间再完善下其他功能：

<pre style="border: 1px dotted #785;background: #f5f5f5;">#ifndef LINKLIST_H
#define LINKLIST_H

template &lt;typename T&gt;
struct SLink
{
    T m_tData;
    SLink* m_pNetx;
};

template &lt;typename T&gt;
class CLinkList
{
    template &lt;typename R&gt;
    friend std::ostream&amp; operator&lt;&lt; ( std::ostream&amp; os, const CLinkList&lt;R&gt;&amp; list );
public:
    CLinkList()
    {
        m_pHead = new SLink&lt;T&gt;();
        m_pHead-&gt;m_tData = T();
        m_pHead-&gt;m_pNetx = NULL;
    }
    virtual ~CLinkList()
    {
        SLink&lt;T&gt;* pLink = m_pHead;
        while( pLink )
        {
            SLink&lt;T&gt;* pTempLink = pLink-&gt;m_pNetx;
            delete pLink, pLink = NULL;
            pLink = pTempLink;
        }
    }
    //先插入的数据在链表后面
    bool addLink( const T&amp; val )
    {
        SLink&lt;T&gt;* pNewLink = new SLink&lt;T&gt;();
        if( !pNewLink )
        {
            return false;
        }
        pNewLink-&gt;m_tData = val;
        pNewLink-&gt;m_pNetx = m_pHead-&gt;m_pNetx;

        m_pHead-&gt;m_pNetx = pNewLink;

        return true;
    }
    //依次将每一个节点插入到head后面
    void reverse()
    {
        SLink&lt;T&gt;* pLink = m_pHead-&gt;m_pNetx;
        SLink&lt;T&gt;* pTempLink = NULL;
        //置head的next为空，
        m_pHead-&gt;m_pNetx = NULL;
        while( pLink )
        {
            //记录下一个节点
            pTempLink = pLink-&gt;m_pNetx;

            //当前节点插入头节点之后，修改其next为之前的头结点的next
            pLink-&gt;m_pNetx = m_pHead-&gt;m_pNetx;
            m_pHead-&gt;m_pNetx = pLink;

            pLink = pTempLink;
        }
    }
protected:
private:
    SLink&lt;T&gt;* m_pHead;
};

template &lt;typename R&gt;
std::ostream&amp; operator&lt;&lt; ( std::ostream&amp; os, const CLinkList&lt;R&gt;&amp; list )
{
    SLink&lt;R&gt;* pLink = list.m_pHead-&gt;m_pNetx;
    while( pLink )
    {
        os &lt;&lt; pLink &lt;&lt; "==&gt;" &lt;&lt; pLink-&gt;m_tData &lt;&lt; std::endl;
        pLink = pLink-&gt;m_pNetx;
    }
    return os;
}
#endif // LINKLIST_H
</pre> 

</div>